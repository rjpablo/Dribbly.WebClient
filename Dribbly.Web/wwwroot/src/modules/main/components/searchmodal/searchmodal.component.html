<div class="row no-gutters position-fixed h-100 w-100 overflow-auto align-content-start align-content-lg-stretch">
    <div class="col-12 col-lg-3 p-1 p-sm-3 bg-light">
        <h3 class="modal-title mb-3">
            <i class="fa fa-arrow-left mr-1"
               ng-click="src.cancel()"></i>
            {{::'app.FindACourt' | i18n}}
        </h3>
        <div class="search-form-container">
            <div class="d-flex justify-content-between">
                <div class="align-self-center d-flex align-items-center">
                    <h5 class="m-0">{{::'app.Filters' | i18n}}</h5>
                    <span type="submit"
                          ng-show="src.searchInput"
                          class="ml-2"
                          ng-click="src.clearFilters()">
                        <i class="fa fa-times fa-2x text-danger"></i>
                    </span>
                </div>
                <button type="button"
                        ng-click="src.isFiltersCollapsed = !src.isFiltersCollapsed"
                        class="btn bg-transparent">
                    <i class="fa"
                       ng-class="src.isFiltersCollapsed? 'fa-angle-double-down' : 'fa-angle-double-up'"></i>
                </button>
            </div>
            <div uib-collapse="src.isFiltersCollapsed"
                 ng-class="{'show': !src.isFiltersCollapsed}">
                <form name="src.frmCourtDetails">
                    <fieldset ng-disabled="src.isBusy">
                        <div class="row">
                            <div class="form-group col-12 col-sm-6 col-md-6 col-lg-12">
                                <lable for="txtName" class="label">
                                    {{::'app.CourtNameContains' | i18n}}
                                    <input type="text"
                                           name="txtName"
                                           ng-model="src.searchInput.name"
                                           ng-change="src.filterCourts()"
                                           class="form-control"
                                           required
                                           max="100" />
                                </lable>
                            </div>
                            <div class="form-group col-12 col-sm-6 col-lg-12">
                                <lable for="txtName">
                                    {{::'app.RatePerHour' | i18n}}
                                </lable>
                                <div class="form-row">
                                    <div class="col">
                                        <input type="number"
                                               ng-model="src.searchInput.rateMin"
                                               ng-change="src.filterCourts()"
                                               min="0"
                                               placeholder="From"
                                               class="form-control d-inline" />
                                    </div>
                                    <div class="col-1 text-center form-text">-</div>
                                    <div class="col">
                                        <input type="number"
                                               ng-model="src.searchInput.rateMax"
                                               ng-change="src.filterCourts()"
                                               min="0"
                                               placeholder="To"
                                               class="form-control d-inline" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                </form>
            </div>
        </div>
    </div>
    <div class="col-12 col-lg-9 p-1 p-sm-3">
        <div class="results">
            <div class="d-flex justify-content-between mb-2">
                <strong class="align-self-center">{{ !src.isBusy? src.filteredCourts.length + ' court(s) found.' : ''}}</strong>
                <div class="d-flex">
                    <div class="dropdown"
                         ng-show="src.resultView === 'list'">
                        <button class="btn btn-light"
                                type="button""
                                data-toggle="dropdown"
                                aria-haspopup="true"
                                aria-expanded="false">
                            <i class="fa fa-sort-alpha-asc"></i>
                        </button>
                        <form class="dropdown-menu">
                            <h6 class="dropdown-header">{{::'app.SortBy' | i18n}}</h6>
                            <button ng-repeat="item in src.sortOptions"
                                    ng-click="src.sortCourts(item)"
                                    ng-class="{'active': src.sortField === item.field}"
                                    class="dropdown-item"
                                    type="button">
                                {{::item.textKey | i18n}}
                                <i class="fa fa-arrow"
                                   ng-class="item.reverse ? 'fa-long-arrow-down' : 'fa-long-arrow-up'"></i>
                            </button>
                        </form>
                    </div>
                    <div class="btn-group ml-2">
                        <button class="btn btn-light"
                                style="width: 42px;"
                                ng-model="src.resultView" uib-btn-radio="'map'">
                            <i class="fa fa-map-marker"></i>
                        </button>
                        <button class="btn btn-light" ng-model="src.resultView" uib-btn-radio="'list'">
                            <i class="fa fa-list"></i>
                        </button>
                    </div>
                </div>
            </div>
            <drbbly-Courtlist courts="src.filteredCourts"
                              ng-show="src.resultView === 'list'"
                              wrap-items="true"></drbbly-Courtlist>
            <div class="map-container"
                 ng-if="src.mapApiKey"
                 ng-show="src.resultView === 'map'"
                 map-lazy-load="{{'https://maps.google.com/maps/api/js?key=' + src.mapApiKey}}">
                <ng-map id="court-search-map"
                        style="height: 100%;"
                        zoom="{{src.mapOptions.zoom}}"
                        map-type-control="false"
                        street-view-control="false"
                        on-click="src.mapClicked()"></ng-map>
            </div>
        </div>
    </div>
</div>